<div class="container py-5">
  <!-- Hero Section -->
  <div class="text-center mb-5">
    <h1 class="display-4 fw-bold mb-3">Bienvenue sur Grenoble Roller</h1>
    <p class="lead">Plateforme de gestion d'événements pour la communauté du roller</p>
  </div>

  <div class="mb-5">
    <h2 class="mb-4">Prochains événements</h2>
    
    <% if @upcoming_events.any? %>
      <div class="row g-3">
        <% @upcoming_events.each do |event| %>
          <div class="col-md-6">
            <div class="card">
              <div class="card-body">
                <h3 class="h5"><%= event.title %></h3>
                <p class="mb-2">
                  <strong>Date :</strong> 
                  <%= event.start_date.strftime("%d/%m/%Y à %Hh%M") %>
                </p>
                <p class="mb-2">
                  <strong>Lieu :</strong> 
                  <%= event.location %>
                </p>
                <p class="mb-2">
                  <strong>Organisateur :</strong> 
                  <%= event.organizer.first_name || event.organizer.email %>
                </p>
                <%= link_to "Voir détails", event_path(event), class: "btn btn-gr-primary btn-sm mt-2" %>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    <% else %>
      <p class="text-center">Aucun événement à venir pour le moment.</p>
    <% end %>
  </div>

  <% if user_signed_in? %>
    <!-- User Dashboard -->
    <div class="row justify-content-center">
      <div class="col-md-8">
        <div class="card shadow-sm">
          <div class="card-body p-4">
            <h2 class="h4 mb-4 text-gr-primary">
              <span class="badge badge-gr-success me-2">OK</span>
              Connecté
            </h2>
            
            <div class="mb-3">
              <strong>Email :</strong>
              <span class="text-gr-glacier"><%= current_user.email %></span>
            </div>

            <div class="d-flex gap-2 flex-wrap">
              <%= link_to "Page secrète", static_pages_secret_path, class: "btn btn-gr-primary" %>
              <%= link_to "Modifier mon profil", edit_user_registration_path, class: "btn btn-gr-outline-primary" %>
              <%= link_to "Se déconnecter", destroy_user_session_path, data: { turbo_method: :delete }, class: "btn btn-outline-secondary" %>
            </div>
          </div>
        </div>
      </div>
    </div>

  <% else %>
    <!-- Guest Welcome -->
    <div class="row justify-content-center">
      <div class="col-md-6">
        <div class="card shadow-sm border-gr-primary">
          <div class="card-body text-center p-5">
            <h2 class="h4 mb-4">Rejoignez la communauté</h2>
            <p class="mb-4" style="opacity: 0.85;">Créez un compte pour gérer vos événements et participer à la vie du roller grenoblois</p>
            
            <div class="d-grid gap-2">
              <%= link_to "S'inscrire", new_user_registration_path, class: "btn btn-gr-primary btn-lg" %>
              <%= link_to "Se connecter", new_user_session_path, class: "btn btn-outline-secondary" %>
            </div>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>
